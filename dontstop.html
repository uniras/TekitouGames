<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Don't Stop</title>
    <style>
        #base {
            width: 960px;
            height: 850px;
            padding: 10px;
            border: solid 2px;
        }

        #board {
            width: 720px;
            height: 720px;
            margin: 30px;
            float: left;
        }

        #output {
            width: 100%;
            height: 30px;
            text-align: right;
            overflow-y: hidden;
        }

        #panel {
            border: solid 1px;
            padding: 10px;
            float: left;
        }

        .dicebase {
            width: 50px;
            height: 50px;
            border: solid 1px;
            border-radius: 5px;
            margin: 10px;
            float: left;
        }

        #panel::after {
            clear: both;
        }

        #dices {
            width: 150px;
            height: 150px;
            border: solid 1px;
        }

        .selpanel {
            width: 130px;
            height: 150px;
            border: solid 1px;
            margin: 10px 0;
            padding: 10px;
        }

        .selpaneldisable {
            background-color: lightgray;
            opacity: 0.5;
        }

        .seldice {
            width: 30px;
            height: 30px;
            border: solid 1px;
            border-radius: 5px;
            margin: 5px 15px;
            float: left;
        }

        #pieces {
            height: 20px;
        }

        /*ボタン関係*/

        .selbuttonenable {
            width: 130px;
            height: 30px;
            line-height: 30px;
            margin-top: 5px;
            float: left;
        }

        .selbuttondisable {
            width: 130px;
            height: 30px;
            line-height: 30px;
            margin-top: 5px;
            float: left;
        }

        .selbuttonenable::after {
            clear: both;
        }

        .selbuttondisable::after {
            clear: both;
        }

        .selbuttonenable a {
            display: block;
            height: 25px;
            text-align: center;
            background: #ffffff;
            border-radius: 15px;
            color: #000000;
            font-size: 12px;
            padding: 0 5px 5px 5px;
            border: solid #000000 1px;
            text-decoration: none;
        }

        .selbuttonenable a:hover {
            background: #63a6cf;
            text-decoration: none;
        }

        .selbuttondisable a {
            display: block;
            height: 25px;
            text-align: center;
            background: #cccccc;
            color: #555555;
            border-radius: 15px;
            font-size: 12px;
            padding: 0 5px 5px 5px;
            border: solid #000000 1px;
            text-decoration: none;
            cursor: default;
        }

        .endbutton {
            width: 150px;
            height: 30px;
            clear: both;
        }

        /* テキスト用 */

        #manual {
            width: 850px;
            margin-bottom: 50px;
        }

        #manual h3 {
            display: inline-block;
            color: slategrey;
            border-bottom: 4px solid cadetblue;
            font-weight: bold;
            margin: 20px;
        }

        #manual p {
            color: dimgrey;
            margin: 0 30px 5px;
        }
    </style>
    <script>
        class Dice {
            min;
            max;
            num;

            constructor(_min = 1, _max = 6) {
                this.min = _min;
                this.max = _max;
                this.num = -1;
            }

            getnum() {
                return this.num;
            }

            roll() {
                this.num = Math.floor(Math.random() * (this.max - this.min + 1)) + this.min;
                return this.num;
            }

            rollSum(times) {
                let result = 0;
                for (let i = 0; i < times; i++) {
                    result += this.roll();
                }
                return result;
            }

            rollArray(times) {
                let result = [];
                for (let i = 0; i < times; i++) {
                    result.push(this.roll());
                }
                return result;
            }
        }

        class DiceHtml extends Dice {
            //svgはdivで挟むとなぜかサイズが小さいときにズレるので直接定義
            static baseHTML = `
                <div style="float:left;width:100%;height:5%;"></div>
                <div style="float:left;width:5%;height:30%;"></div>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece0" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece1" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece2" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <div style="float:left;width:5%;height:30%;"></div>
                <div style="float:left;width:5%;height:30%;"></div>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece3" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece4" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece5" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <div style="float:left;width:5%;height:30%;"></div>
                <div style="float:left;width:5%;height:30%;"></div>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece6" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece7" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <svg style="float:left;width:30%;height:30%;" class="dice dicepiece8" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100"></svg>
                <div style="float:left;width:5%;height:30%;"></div>
                <div style="float:left;width:100%;height:5%;"></div>
                <div style="clear:both;width:0;height:0;"></div>
            `;


            static pieceSVG = [
                '',
                '<circle cx="50" cy="50" r="30" fill="black" />',
                '<circle cx="50" cy="50" r="50" fill="red" />',
            ];

            static dicenum = [
                [0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 2, 0, 0, 0, 0],
                [0, 0, 1, 0, 0, 0, 1, 0, 0],
                [1, 0, 0, 0, 1, 0, 0, 0, 1],
                [1, 0, 1, 0, 0, 0, 1, 0, 1],
                [1, 0, 1, 0, 1, 0, 1, 0, 1],
                [1, 0, 1, 1, 0, 1, 1, 0, 1],
            ];

            id;
            element;

            constructor(_id) {
                super(1, 6);
                this.id = _id;
                this.element = document.getElementById(_id);
                this.element.innerHTML = DiceHtml.baseHTML;
            }

            roll() {
                let result = super.roll();
                this.setdice(result);
                return result;
            }

            async rollview(times = 100) {
                let result;
                for (let i = 0; i < times; i++) {
                    result = this.roll();
                    await new Promise(s => setTimeout(s, 10));
                }
                return result;
            }

            //1個のダイス表示と結びついているので1個分だけ
            rollSum(times) {
                return this.roll();
            }

            //1個のダイス表示と結びついているので1個分だけ
            rollArray(times) {
                let result = [];
                result.push(this.roll());
                return result;
            }

            setdice(num) {
                if (num < 1 || num > 6) return;
                let elementarr = [];
                for (let i = 0; i < 9; i++) {
                    this.element.getElementsByClassName('dicepiece' + i)[0].innerHTML = DiceHtml.pieceSVG[DiceHtml.dicenum[num][i]];
                }
            }
        }

        //駒を置く座標
        cellpos = [
            [],
            [],
            [[-50, -50], [150, 570], [150, 500], [150, 430]],
            [[-50, -50], [220, 640], [220, 570], [220, 500], [220, 430], [220, 360]],
            [[-50, -50], [290, 710], [290, 640], [290, 570], [290, 500], [290, 430], [290, 360], [290, 290]],
            [[-50, -50], [360, 780], [360, 710], [360, 640], [360, 570], [360, 500], [360, 430], [360, 360], [360, 290], [360, 220]],
            [[-50, -50], [430, 850], [430, 780], [430, 710], [430, 640], [430, 570], [430, 500], [430, 430], [430, 360], [430, 290], [430, 220], [430, 150]],
            [[-50, -50], [500, 920], [500, 850], [500, 780], [500, 710], [500, 640], [500, 570], [500, 500], [500, 430], [500, 360], [500, 290], [500, 220], [500, 150], [500, 80]],
            [[-50, -50], [570, 850], [570, 780], [570, 710], [570, 640], [570, 570], [570, 500], [570, 430], [570, 360], [570, 290], [570, 220], [570, 150]],
            [[-50, -50], [640, 780], [640, 710], [640, 640], [640, 570], [640, 500], [640, 430], [640, 360], [640, 290], [640, 220]],
            [[-50, -50], [710, 710], [710, 640], [710, 570], [710, 500], [710, 430], [710, 360], [710, 290]],
            [[-50, -50], [780, 640], [780, 570], [780, 500], [780, 430], [780, 360]],
            [[-50, -50], [850, 570], [850, 500], [850, 430]],
        ];

        //ゴール位置
        const goal = [-1, -1, 3, 5, 7, 9, 11, 13, 11, 9, 7, 5, 3];

        //初期化用配列
        const cleararr = [-1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

        //ダイスの組み合わせ
        const dicepos = [0, 1, 2, 3, 0, 2, 1, 3, 0, 3, 1, 2];

        //表示文字列
        const dispnum = ['', '', '２', '３', '４', '５', '６', '７', '８', '９', '10', '11', '12'];
        const selpstr = ['選択できません', '{0}を進める', '{0}を2進める', '{0}・{1}を進める'];

        //駒のSVG
        const piecesvg = '<circle cx="{0}" cy="{1}" r="25" style="fill:white;stroke:lightgray;stroke-width:3;"></circle>'
        const pinsvg = '<circle cx="{0}" cy="{1}" r="25" style="fill:cornflowerblue;stroke:lightgray;stroke-width:3;"></circle>'

        //固定済みのピースの位置
        let pinpos = [-1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

        //固定前のピースの位置
        let piecepos = [-1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

        //ピースを置いている番号
        let pieces = [0, 0, 0];

        //ダイスオブジェクト
        let dices = [];
        let seldices = [];

        //ボタンオブジェクト
        let selb = [];

        //パネルオブジェクト
        let selp = [];

        //出目の結果
        let selects = [[0, 0], [0, 0], [0, 0]];
        let ispush = -1;
        let isenable = [false, false, false, false, false, false, false, true];
        let buttonset = [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]];

        //ゲーム状態
        let state = 0;
        let turn = 1;

        //ゲームクリアとなるゴール数
        let cleargoal = 3;

        //配列のコピー(des:コピー先、src:コピー元)
        //dstの方が短ければ途中まで、長ければ足りない分は0で埋める
        const deepcopy = function (dst, src) {
            for (let i = 0; i < dst.length; i++) {
                if (i >= src.length) {
                    dst[i] = 0;
                } else {
                    dst[i] = src[i];
                }
            }
        }

        //C言語でいうprintf関数的なやつ
        const printf = function (str, args) {
            return str.replace(/{(\d+)}/g, function (match, number) {
                return typeof args[number] != 'undefined' ? args[number] : match;
            });
        }

        //駒を置けるかどうか確認処理(OKならnum,NGなら0)
        const checknum = function (num) {
            if (num < 2 || num > 12) return 0;
            //ゴールに到達していれば0
            if (pinpos[num] === goal[num]) return 0;
            if (piecepos[num] === goal[num]) return 0;
            //駒位置を表すpieces配列に0もnumもなければ0、あればnum
            if (pieces.includes(0)) return num;
            if (pieces.includes(num)) return num;
            return 0;
        }

        //駒の置き場所の配列を更新
        const setnum = function (num) {
            if (num < 2 || num > 12) return;
            //numがゴール到達している場合は何もしない
            if (pinpos[num] === goal[num]) return;
            if (piecepos[num] === goal[num]) return;
            //numが含まれていれば何もしない
            if (pieces.includes(num)) return;
            //含まれていなければ0を上書き
            if (pieces[0] === 0) {
                pieces[0] = num;
            } else if (pieces[1] === 0) {
                pieces[1] = num;
            } else if (pieces[2] === 0) {
                pieces[2] = num;
            }
        }

        //ダイスを振って選択パネルの更新
        const diceroll = async function () {
            //ダイスを振る
            for (let t = 0; t < 100; t++) {
                for (let i = 0; i < 4; i++) {
                    dices[i].roll();
                }
                await new Promise(s => setTimeout(s, 10));
            }
            for (let i = 0; i < 4; i++) {
                dices[i].roll();
            }

            //ダイスの結果を選択パネルに表示
            for (let i = 0; i < 12; i++) {
                seldices[i].setdice(dices[dicepos[i]].getnum());
            }
            let cnt = 0;
            for (let i = 0; i < 12; i += 4) {
                selects[cnt][0] = dices[dicepos[i]].getnum() + dices[dicepos[i + 1]].getnum();
                selects[cnt][1] = dices[dicepos[i + 2]].getnum() + dices[dicepos[i + 3]].getnum();
                cnt++;
            }

            //状況に応じてボタンのテキストを変更
            for (let i = 0; i < 3; i++) {
                //ダイスの合計値が有効かどうかチェック
                //無効なら0に書き換え
                for (let j = 0; j < 2; j++) {
                    selects[i][j] = checknum(selects[i][j]);
                }

                //残りのコマの数をカウント
                let pleft = 0;
                for (let i = 0; i < pieces.length; i++) {
                    if (pieces[i] === 0) pleft++;
                }

                //駒の残りが1つ、二つの数が異なり、どちらも0ではなく、
                //どちらもボードに出ていない数の場合、どっちを出すか選ぶ必要がある
                if (pleft === 1 && selects[i][0] != selects[i][1] &&
                    selects[i][0] !== 0 && selects[i][1] !== 0 &&
                    !pieces.includes(selects[i][0]) && !pieces.includes(selects[i][1])) {

                    selb[i * 2].innerText = printf(selpstr[1], [selects[i][0]]);
                    selb[i * 2 + 1].innerText = printf(selpstr[1], [selects[i][1]]);
                    isenable[i * 2] = true;
                    buttonset[i * 2] = [selects[i][0], 0];
                    isenable[i * 2 + 1] = true;
                    buttonset[i * 2 + 1] = [selects[i][1], 0];
                } else {
                    selb[i * 2 + 1].innerText = selpstr[0];
                    //有効な数値がなければ選択できません処理
                    if (selects[i][0] === 0 && selects[i][1] === 0) {
                        selb[i * 2].innerText = selpstr[0];
                        isenable[i * 2] = false;
                        buttonset[i * 2] = [0, 0];
                        isenable[i * 2 + 1] = false;
                        buttonset[i * 2 + 1] = [0, 0];
                    } else if (selects[i][0] === 0) {
                        //片方1だけ有効なら
                        selb[i * 2].innerText = printf(selpstr[1], [selects[i][1]]);
                        isenable[i * 2] = true;
                        buttonset[i * 2] = [selects[i][1], 0];
                        isenable[i * 2 + 1] = false;
                        buttonset[i * 2 + 1] = [0, 0];
                    } else if (selects[i][1] === 0) {
                        //片方0だけ有効なら
                        selb[i * 2].innerText = printf(selpstr[1], [selects[i][0]]);
                        isenable[i * 2] = true;
                        buttonset[i * 2] = [selects[i][0], 0];
                        isenable[i * 2 + 1] = false;
                        buttonset[i * 2 + 1] = [0, 0];
                    } else {
                        //両方有効なら
                        if (selects[i][0] === selects[i][1]) {
                            //両方有効でどちらも同じ値なら
                            selb[i * 2].innerText = printf(selpstr[2], selects[i]);
                        } else {
                            selb[i * 2].innerText = printf(selpstr[3], selects[i]);
                        }
                        isenable[i * 2] = true;
                        buttonset[i * 2] = [selects[i][0], selects[i][1]];
                        isenable[i * 2 + 1] = false;
                        buttonset[i * 2 + 1] = [0, 0];
                    }
                }
            }
        }

        //駒の移動処理(numにあるはずの駒をデータ上移動させて描画)
        const movepiece = async function (num) {
            draw();
            await new Promise(s => setTimeout(s, 1000));
        }

        //駒の描画処理
        const draw = function () {
            g = document.getElementsByTagName('g')[0];
            g.innerHTML = '';

            //固定済みの駒を描画
            for (let i = 2; i < 13; i++) {
                if (pinpos[i] > 0) {
                    g.innerHTML = g.innerHTML + printf(pinsvg, cellpos[i][pinpos[i]]);
                }
            }

            //未固定の駒を描画
            for (let i = 0; i < pieces.length; i++) {
                if (pieces[i] > 0) {
                    g.innerHTML = g.innerHTML + printf(piecesvg, cellpos[pieces[i]][piecepos[pieces[i]]]);
                }
            }

            //駒の残りを更新
            let pleft = '';
            for (let i = 0; i < pieces.length; i++) {
                if (pieces[i] === 0) pleft = pleft + '〇';
            }
            document.getElementById('pieces').innerText = pleft;
        }

        const setbutton = function () {
            for (let i = 0; i < 8; i++) {
                if (isenable[i]) {
                    //ボタンを有効に
                    selb[i].parentElement.classList.remove('selbuttondisable');
                    selb[i].parentElement.classList.add('selbuttonenable');
                } else {
                    //ボタンを無効に
                    selb[i].parentElement.classList.remove('selbuttonenable');
                    selb[i].parentElement.classList.add('selbuttondisable');
                }
            }
        }

        window.addEventListener('DOMContentLoaded', async (event) => {
            let output = document.getElementById('output');

            for (let i = 0; i < 4; i++) {
                dices.push(new DiceHtml('dice' + i))
                dices[i].setdice(0);
            }
            for (let i = 0; i < 12; i++) {
                seldices.push(new DiceHtml('seld' + i))
                seldices[i].setdice(0);
            }

            for (let i = 0; i < 8; i++) {
                ispush[i] = false;
                selb.push(document.getElementById('selb' + i).children[0]);
                selb[i].addEventListener('click', function (event) {
                    if (isenable[i]) ispush = i;
                });
            }

            for (let i = 0; i < 3; i++) {
                selp.push(document.getElementById('selpanel' + i));
            }

            while (true) {
                if (ispush >= 0 && ispush < 6) {
                    let push = ispush;
                    ispush = -1;

                    //選択ボタンを押した
                    //一旦ボタンを全部無効に
                    isenable = [false, false, false, false, false, false, false, false];
                    setbutton();

                    //駒を進める
                    for (let i = 0; i < 2; i++) {
                        if (buttonset[push][i] !== 0) {
                            setnum(buttonset[push][i]);
                            if (piecepos[buttonset[push][i]] < goal[buttonset[push][i]]) piecepos[buttonset[push][i]]++;
                            draw();
                            await new Promise(s => setTimeout(s, 1000));
                        }
                    }

                    output.innerText = turn + 'ターン目です。ダイスを振るか、進めた駒を確定するか選んでください。';
                    for (let i = 0; i < 3; i++) {
                        selp[i].classList.add('selpaneldisable');
                    }
                    for (let i = 0; i < 6; i++) {
                        selb[i].innerText = '選択できません';
                    }
                    selb[6].innerText = 'ダイスを振る';
                    selb[7].innerText = '確定する';
                    isenable[6] = true;
                    isenable[7] = true;

                    setbutton();
                    draw();
                } else if (ispush === 6) {
                    ispush = -1;
                    isenable = [false, false, false, false, false, false, false, false];
                    selb[6].innerText = '選択できません';
                    selb[7].innerText = '選択できません';
                    setbutton();

                    await diceroll();

                    //押せるボタンの数をカウント
                    let count = 0;
                    for (let i = 0; i < 6; i++) {
                        if (isenable[i]) count++;
                    }

                    if (count === 0) {
                        //押せるボタンがなくなったので失敗処理

                        //固定前の配列を初期化
                        deepcopy(piecepos, cleararr);

                        //失敗メッセージを表示
                        output.innerText = '進めなくなったので、このターンの進行は無効になりました。次のターンを押してください。';
                        selb[6].innerText = '選択できません';
                        selb[7].innerText = '次のターン';

                        for (let i = 0; i < pieces.length; i++) {
                            pieces[i] = 0;
                        }
                        for (let i = 0; i < 3; i++) {
                            selp[i].classList.add('selpaneldisable');
                        }
                        isenable[6] = false;
                        isenable[7] = true;
                    } else {
                        output.innerText = turn + 'ターン目です。進める組み合わせを選んでください。';
                        selb[6].innerText = '選択できません';
                        selb[7].innerText = '選択できません';
                        isenable[6] = false;
                        isenable[7] = false;
                        for (let i = 0; i < 3; i++) {
                            if (isenable[i * 2] || isenable[i * 2 + 1]) {
                                selp[i].classList.remove('selpaneldisable');
                            } else {
                                selp[i].classList.add('selpaneldisable');
                            }
                        }
                    }


                    setbutton();
                    draw();
                } else if (ispush === 7) {
                    ispush = -1;
                    //スタートと次のターン(リセット)を兼ねているのでリセット処理
                    if (state === 0) {
                        //ゲームスタート

                        //初期化
                        deepcopy(pinpos, cleararr);
                        deepcopy(piecepos, cleararr);
                        for (let i = 0; i < pieces.length; i++) {
                            pieces[i] = 0;
                        }
                        state = 1;
                        turn = 1;
                        output.innerText = turn + 'ターン目です。進める組み合わせを選んでください。';
                        selb[6].innerText = '選択できません';
                        selb[7].innerText = '選択できません';
                        isenable[6] = false;
                        isenable[7] = false;
                        for (let i = 0; i < 3; i++) {
                            selp[i].classList.remove('selpaneldisable');
                        }

                        //一旦ボタンは全部無効
                        isenable = [false, false, false, false, false, false, false, false];
                        setbutton();

                        //ダイスを振る処理
                        await diceroll();
                    } else if (state === 1) {
                        //次のターン

                        //一旦ボタンは全部無効
                        isenable = [false, false, false, false, false, false, false, false];
                        selb[6].innerText = '選択できません';
                        selb[7].innerText = '選択できません';
                        setbutton();

                        //ピースの固定処理と初期化(ドボンの時は固定前の駒位置は0のはず)
                        for (let i = 0; i < pieces.length; i++) {
                            if (pieces[i] !== 0) {
                                pinpos[pieces[i]] = piecepos[pieces[i]];
                                piecepos[pieces[i]] = 0;
                                pieces[i] = 0;
                                draw();
                                await new Promise(s => setTimeout(s, 1000));
                            }
                        }
                        draw();

                        //ゴール数のカウント
                        let gcount = 0;
                        for (let i = 2; i < 13; i++) {
                            if (pinpos[i] === goal[i]) gcount++;
                        }

                        //ゲームクリアとなるゴール数を達成
                        if (gcount >= cleargoal) {
                            output.innerText = 'おめでとうございます！' + turn + 'ターンでクリアです。';
                            state = 0;
                            isenable = [false, false, false, false, false, false, false, true];
                            selb[7].innerText = '開始';
                        } else {
                            //ゲームクリアではないので次のターン
                            deepcopy(piecepos, pinpos);
                            turn++;
                            //ダイスを振る処理
                            await diceroll();

                            //押せるボタンの数をカウント
                            let count = 0;
                            for (let i = 0; i < 6; i++) {
                                if (isenable[i]) count++;
                            }

                            if (count === 0) {
                                //固定前の配列を初期化
                                deepcopy(piecepos, cleararr);

                                //失敗メッセージを表示
                                output.innerText = '進めないので、このターンは無効になりました。次のターンを押してください。';
                                selb[7].innerText = '次のターン';

                                for (let i = 0; i < pieces.length; i++) {
                                    pieces[i] = 0;
                                }
                                for (let i = 0; i < 3; i++) {
                                    selp[i].classList.add('selpaneldisable');
                                }
                                isenable[6] = false;
                                isenable[7] = true;
                            } else {
                                output.innerText = turn + 'ターン目です。進める組み合わせを選んでください。';
                                for (let i = 0; i < 3; i++) {
                                    selp[i].classList.remove('selpaneldisable');
                                }
                                isenable[6] = false;
                                isenable[7] = false;
                            }

                        }
                    }

                    //ボタン設定と描画処理
                    setbutton();
                    draw();
                }
                await new Promise(s => setTimeout(s, 100));
            }
        });
    </script>
</head>

<body>
    <div id="base">
        <div id="output">
            開始をクリックしてスタート。
        </div>
        <div id="board">
            <svg class="baseboard" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"
                viewBox="0 0 1000 1000">
                <path d="M500 5 L5 500 L500 995 L995 500 Z" style="fill:cadetblue;stroke:brown;stroke-width:10;" />
                <!--2-->
                <rect x="120" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="145" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="120" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:royalblue;stroke:white;stroke-width:3;"></rect>
                <rect x="145" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="120" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:royalblue;stroke:white;stroke-width:3;"></rect>
                <text x="132" y="443" font-size="35" style="fill:white;">２</text>
                <text x="132" y="583" font-size="35" style="fill:white;">２</text>
                <!--3-->
                <rect x="190" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="215" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="190" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:orange;stroke:white;stroke-width:3;"></rect>
                <rect x="215" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="190" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:orange;stroke:white;stroke-width:3;"></rect>
                <rect x="215" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="190" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:orange;stroke:white;stroke-width:3;"></rect>
                <rect x="215" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="190" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:orange;stroke:white;stroke-width:3;"></rect>
                <text x="202" y="373" font-size="35" style="fill:white;">３</text>
                <text x="202" y="653" font-size="35" style="fill:white;">３</text>
                <!--4-->
                <rect x="260" y="260" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="285" y="320" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="260" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="285" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="260" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="285" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="260" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="285" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="260" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="285" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="260" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="285" y="670" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="260" y="680" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <text x="272" y="303" font-size="35" style="fill:white;">４</text>
                <text x="272" y="723" font-size="35" style="fill:white;">４</text>
                <!--5-->
                <rect x="330" y="190" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="355" y="250" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="330" y="260" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="355" y="320" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="330" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="355" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="330" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="355" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="330" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="355" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="330" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="355" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="330" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="355" y="670" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="330" y="680" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="355" y="740" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="330" y="750" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <text x="342" y="233" font-size="35" style="fill:white;">５</text>
                <text x="342" y="793" font-size="35" style="fill:white;">５</text>
                <!--6-->
                <rect x="400" y="120" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="180" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="190" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="250" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="260" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="320" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="670" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="680" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="740" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="750" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="425" y="810" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="400" y="820" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <text x="412" y="163" font-size="35" style="fill:white;">６</text>
                <text x="412" y="863" font-size="35" style="fill:white;">６</text>
                <!--7-->
                <rect x="470" y="50" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="110" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="120" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="180" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="190" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="250" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="260" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="320" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="670" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="680" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="740" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="750" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="810" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="820" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <rect x="495" y="880" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="470" y="890" width="60" height="60" rx="5" ry="5"
                    style="fill:tomato;stroke:white;stroke-width:3;"></rect>
                <text x="482" y="93" font-size="35" style="fill:white;">７</text>
                <text x="482" y="933" font-size="35" style="fill:white;">７</text>
                <!--8-->
                <rect x="540" y="120" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="180" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="190" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="250" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="260" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="320" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="670" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="680" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="740" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="750" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <rect x="565" y="810" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="540" y="820" width="60" height="60" rx="5" ry="5"
                    style="fill:indigo;stroke:white;stroke-width:3;"></rect>
                <text x="552" y="163" font-size="35" style="fill:white;">８</text>
                <text x="552" y="863" font-size="35" style="fill:white;">８</text>
                <!--9-->
                <rect x="610" y="190" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="635" y="250" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="610" y="260" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="635" y="320" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="610" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="635" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="610" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="635" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="610" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="635" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="610" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="635" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="610" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="635" y="670" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="610" y="680" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <rect x="635" y="740" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="610" y="750" width="60" height="60" rx="5" ry="5"
                    style="fill:darkseagreen;stroke:white;stroke-width:3;"></rect>
                <text x="622" y="233" font-size="35" style="fill:white;">９</text>
                <text x="622" y="793" font-size="35" style="fill:white;">９</text>
                <!--10-->
                <rect x="680" y="260" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="705" y="320" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="680" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="705" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="680" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="705" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="680" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="705" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="680" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="705" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="680" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <rect x="705" y="670" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="680" y="680" width="60" height="60" rx="5" ry="5"
                    style="fill:indianred;stroke:white;stroke-width:3;"></rect>
                <text x="687" y="303" font-size="35" style="fill:white;">10</text>
                <text x="687" y="723" font-size="35" style="fill:white;">10</text>
                <!--11-->
                <rect x="750" y="330" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="775" y="390" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="750" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:orange;stroke:white;stroke-width:3;"></rect>
                <rect x="775" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="750" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:orange;stroke:white;stroke-width:3;"></rect>
                <rect x="775" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="750" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:orange;stroke:white;stroke-width:3;"></rect>
                <rect x="775" y="600" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="750" y="610" width="60" height="60" rx="5" ry="5"
                    style="fill:orange;stroke:white;stroke-width:3;"></rect>
                <text x="757" y="373" font-size="35" style="fill:white;">11</text>
                <text x="757" y="653" font-size="35" style="fill:white;">11</text>
                <!--12-->
                <rect x="820" y="400" width="60" height="60" rx="5" ry="5"
                    style="fill:maroon;stroke:white;stroke-width:3;"></rect>
                <rect x="845" y="460" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="820" y="470" width="60" height="60" rx="5" ry="5"
                    style="fill:royalblue;stroke:white;stroke-width:3;"></rect>
                <rect x="845" y="530" width="10" height="10" style="fill:white;stroke:white;stroke-width:3;"></rect>
                <rect x="820" y="540" width="60" height="60" rx="5" ry="5"
                    style="fill:royalblue;stroke:white;stroke-width:3;"></rect>
                <text x="827" y="443" font-size="35" style="fill:white;">12</text>
                <text x="827" y="583" font-size="35" style="fill:white;">12</text>
                <g>
                </g>
            </svg>
        </div>
        <div id="panel">
            <div id="pieces">
                〇〇〇
            </div>
            <div id="dices">
                <div class="dicebase" id="dice0"></div>
                <div class="dicebase" id="dice1"></div>
                <div class="dicebase" id="dice2"></div>
                <div class="dicebase" id="dice3"></div>
            </div>
            <div class="selpanel selpaneldisable" id="selpanel0">
                <div class="seldice" id="seld0"></div>
                <div class="seldice" id="seld1"></div>
                <div class="seldice" id="seld2"></div>
                <div class="seldice" id="seld3"></div>
                <div class="selbuttondisable" id="selb0">
                    <a href="#">選択できません</a>
                </div>
                <div class="selbuttondisable" id="selb1">
                    <a href="#">選択できません</a>
                </div>
            </div>
            <div class="selpanel selpaneldisable" id="selpanel1">
                <div class="seldice" id="seld4"></div>
                <div class="seldice" id="seld5"></div>
                <div class="seldice" id="seld6"></div>
                <div class="seldice" id="seld7"></div>
                <div class="selbuttondisable" id="selb2">
                    <a href="#">選択できません</a>
                </div>
                <div class="selbuttondisable" id="selb3">
                    <a href="#">選択できません</a>
                </div>
            </div>
            <div class="selpanel selpaneldisable" id="selpanel2">
                <div class="seldice" id="seld8"></div>
                <div class="seldice" id="seld9"></div>
                <div class="seldice" id="seld10"></div>
                <div class="seldice" id="seld11"></div>
                <div class="selbuttondisable" id="selb4">
                    <a href="#">選択できません</a>
                </div>
                <div class="selbuttondisable" id="selb5">
                    <a href="#">選択できません</a>
                </div>
            </div>
            <div class="endpanel" id="endpanel0">
                <div class="selbuttondisable endbutton" id="selb6">
                    <a href="#">選択できません</a>
                </div>
                <div class="selbuttonenable endbutton" id="selb7">
                    <a href="#">開始</a>
                </div>
            </div>
        </div>
    </div>
    <div id="manual">
        <h3>Don't Stop(一人用Can't St〇p)の遊び方</h3>
        <p>4つのダイスを振り、ダイスの出目2個2組を任意に組み合わせそれぞれの合計数(2～12)の駒を進めます。</p>
        <p>組み合わせた結果の数が2組とも同じ場合は2つ進めることができます。</p>
        <p>ただし、1ターンに進めることができる駒は<b>3つまで</b>です。</p>
        <p>進めた3つの駒以外の数(出目の合計)が出ても進めることは出来ません。</p>
        <p>出目の結果の数が進めた3つの駒のどの数にもならず進めることが出来なくなった場合、</p>
        <p>失敗としてそのターンに<b>進めた分は全て無効</b>となります。</p>
        <p>失敗する前に確定を選択するとそのターンで進めた分の駒を留めることができ、</p>
        <p>次のターン以降はその位置から駒を進めることになります。</p>
        <p>駒を一番奥に進めた上で<b>「確定する」</b>を選択するとゴールとなります。</p>
        <p>駒がゴールの位置に到達したものの確定せず続け、その後の出目の結果失敗となった場合はゴールとはみなされません。</p>
        <p>ゴールに到達した数の駒は(確定前でも)もう進めることはできません。</p>
        <p>これを繰り返し、できるだけ少ないターン数で2～12のうちどれか3つをゴールさせてください。</p>
    </div>
</body>

</html>